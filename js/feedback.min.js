var feedbackLink = document.querySelector(".feedback-button"), feedbackPopup = document.querySelector(".popup-feedback"), feedbackClose = document.querySelector(".close-button"), feedbackForm = document.querySelector(".popup-feedback-form"), feedbackName = document.querySelector(".feedback-name"), feedbackEmail = document.querySelector(".feedback-email"), feedbackText = document.querySelector(".feedback-user-text"), isStoregeSupport = !0, storageName = "", storageEmail = ""; try { storageName = localStorage.getItem("Name"), storageEmail = localStorage.getItem("Email") } catch (e) { isStoregeSupport = !1 } feedbackLink.addEventListener("click", function (e) { e.preventDefault(), feedbackPopup.classList.add("popup-show"), storageEmail ? (feedbackName.value = storageName, feedbackEmail.value = storageEmail, feedbackText.focus()) : feedbackName.focus() }), feedbackClose.addEventListener("click", function (e) { e.preventDefault(), feedbackPopup.classList.remove("popup-show"), feedbackPopup.classList.remove("popup-error") }), feedbackForm.addEventListener("submit", function (e) { feedbackName.value && feedbackEmail.value ? isStoregeSupport && (localStorage.setItem("Name", feedbackName.value), localStorage.setItem("Email", feedbackEmail.value)) : (e.preventDefault(), feedbackPopup.classList.remove("popup-error"), feedbackPopup.offsetWidth = feedbackPopup.offsetWidth, feedbackPopup.classList.add("popup-error")) }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && feedbackPopup.classList.contains("popup-show") && (e.preventDefault(), feedbackPopup.classList.remove("popup-show"), feedbackPopup.classList.remove("popup-error")) });